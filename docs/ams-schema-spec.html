<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Amsterdam Schema Specification</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in Â§N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
		text-decoratin
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom: 3px solid #054572;
			border-bottom: 3px solid var(--toclink-underline);
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span:not(.dfn-paneled) {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version c6f50773a, updated Fri Apr 16 16:45:47 2021 -0700" name="generator">
  <link href="https://schemas.data.amsterdam.nl/docs/ams-schema-spec.html" rel="canonical">
  <meta content="f509dd58c0e46644590a994d6dbbf32e21c7d0b8" name="document-revision">
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "â";
}
.css::after, .property::after, .descriptor::after {
    content: "â";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "â";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "â";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "Â¶"; }
.heading > a.self-link::before { content: "Â§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">Amsterdam Schema Specification</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Living Standard, <time class="dt-updated" datetime="2021-05-10">10 May 2021</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://schemas.data.amsterdam.nl/docs/ams-schema-spec.html">https://schemas.data.amsterdam.nl/docs/ams-schema-spec.html</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/Amsterdam/amsterdam-schema/issues/">GitHub</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://data.amsterdam.nl/">Michiel Trimpe</a> (<span class="p-org org">Gemeente Amsterdam</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Het Amsterdam Schema is een standaard voor JSON Schemaâs welke gebruikt kan worden om

    datasets in detail op machine readable formaat te kunnen omschrijven zodat deze generiek
    verwerkt en ontsloten kunnen worden.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introductie</span></a>
     <ol class="toc">
      <li><a href="#catalogus"><span class="secno">1.1</span> <span class="content">Catalogus (dataset)</span></a>
      <li><a href="#omschrijving"><span class="secno">1.2</span> <span class="content">Omschrijving (dataset, tabel, veld)</span></a>
      <li><a href="#data-types"><span class="secno">1.3</span> <span class="content">Data Types (veld)</span></a>
      <li><a href="#relatering"><span class="secno">1.4</span> <span class="content">Relatering (veld)</span></a>
      <li><a href="#eenheden"><span class="secno">1.5</span> <span class="content">Eenheden (veld)</span></a>
      <li><a href="#authorisatie"><span class="secno">1.6</span> <span class="content">Autorisatie (dataset, tabel, veld)</span></a>
      <li>
       <a href="#provenance"><span class="secno">1.7</span> <span class="content">Provenance (dataset, tabel, veld)</span></a>
       <ol class="toc">
        <li><a href="#provenance-vrije-invoer"><span class="secno">1.7.1</span> <span class="content">Vrije invoer</span></a>
        <li><a href="#provenance-postgres"><span class="secno">1.7.2</span> <span class="content">Postgres</span></a>
        <li><a href="#provenance-shapefile"><span class="secno">1.7.3</span> <span class="content">Shapefile</span></a>
       </ol>
      <li><a href="#naamgeving"><span class="secno">1.8</span> <span class="content">Naamgeving</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introductie</span><a class="self-link" href="#intro"></a></h2>
   <p>Het Amsterdam Schema is een standaard voor JSON Schemaâs (ondersteund door het <a href="https://github.com/Amsterdam/amsterdam-schema">Amsterdam Meta Schema</a>) welke gebruikt kan worden om datasets in detail op machine readable formaat te kunnen omschrijven zodat deze generiek verwerkt en ontsloten kunnen worden.</p>
   <p>In dit document omschrijven we welke informatie in het JSON schema opgeslagen kan worden. Ter referentie kunnen  eerste versies van Amsterdam Schemas kunnen <a href="https://github.com/Amsterdam/schemas/">gevonden worden op GitHub</a>.</p>
   <p>Het is voor nu belangrijk om mee te nemen dat de definities Eenheden, Autorisatie en Provenance nog niet via het Meta Schema beperkt/enforced aangezien dit gebruikt maakt van de JSON Vocabularies standaard die nog onvoldoende ondersteund wordt door bestaande tooling.</p>
   <h3 class="heading settled" data-level="1.1" id="catalogus"><span class="secno">1.1. </span><span class="content">Catalogus (dataset)</span><a class="self-link" href="#catalogus"></a></h3>
   <p>Op het dataset niveau is het mogelijk om een aantal properties mee te geven t.b.v. het definieren van de gegevens voor o.a. de DCAT catalogus. De volgende velden zijn reeds gedefinieerd:</p>
   <ul>
    <li data-md>
     <p>title (string)</p>
    <li data-md>
     <p>description (string)</p>
    <li data-md>
     <p>homepage (url)</p>
    <li data-md>
     <p>language, volgens <a href="https://www.w3.org/TR/vocab-dcat-2/#Property:resource_language">ISO 639-1 of ISO 639-2</a></p>
    <li data-md>
     <p>dateIssued (date-time)</p>
    <li data-md>
     <p>dateModified (date-time)</p>
    <li data-md>
     <p>accrualPeriodicity (string)</p>
    <li data-md>
     <p>spatialDescription (string)</p>
    <li data-md>
     <p>spatialCoordinates (Geometry)</p>
    <li data-md>
     <p>theme (array of strings)</p>
    <li data-md>
     <p>publisher (string)</p>
    <li data-md>
     <p>keywords (array of strings)</p>
    <li data-md>
     <p>license (string)</p>
    <li data-md>
     <p>crs (string, <code class="highlight">EPSG:\d+</code> code)</p>
   </ul>
   <p>Het is de intentie alle relevante DCAT velden te kunnen modelleren dus wanneer er velden ontbreken die wel in de DCAT opgenomen moeten worden zullen deze toegevoegd worden.</p>
   <h3 class="heading settled" data-level="1.2" id="omschrijving"><span class="secno">1.2. </span><span class="content">Omschrijving (dataset, tabel, veld)</span><a class="self-link" href="#omschrijving"></a></h3>
   <p>Op elk niveau kan een semantische omschrijving toegevoegd worden d.m.v. de <code class="highlight">title</code> en <code class="highlight">description</code> property.</p>
<pre class="highlight"><c- u>"title"</c->: <c- u>"Lengte"</c->,
<c- u>"description"</c->: <c- u>"Lengte van een verharding"</c->
</pre>
   <p>Het veld-niveau is in dit kader het belangrijkste, al voegt dit waarde toe op elk niveau. De omschrijving van het veld niveau is namelijk wat gezien kan worden als veld-omschrijving op bijvoorbeeld het Data Portaal.</p>
   <h3 class="heading settled" data-level="1.3" id="data-types"><span class="secno">1.3. </span><span class="content">Data Types (veld)</span><a class="self-link" href="#data-types"></a></h3>
   <p>De verschillende ondersteunde data types worden allemaal gemodelleerd als concrete JSON Schema type definieringen. Deze zullen dan in doel-systemen naar de juiste veld/kolom-types getransformeerd worden.</p>
   <ul>
    <li data-md>
     <p>Elke regel is adresseerbaar via een unique identifier in Ã©Ã©n kolom.</p>
     <ul>
      <li data-md>
       <p>Gemodelleerd als <code class="highlight">$ref</code> naar <code class="highlight">/definitions/id</code>.<br> <code class="highlight"><c- u>"$ref"</c->: <c- u>"https://ams-schema.glitch.me/schema@v0.1#/definitions/id"</c-></code></p>
     </ul>
    <li data-md>
     <p>Scalaire types</p>
     <ul>
      <li data-md>
       <p><strong>integer (tiny8, small16, int32, bigint64)</strong></p>
       <ul>
        <li data-md>
         <p>Gemodelleerd als <code class="highlight">integer</code> met <code class="highlight">exclusiveMaximum</code> en negatief <code class="highlight">minimum</code> van <code class="highlight"><c- mi>2</c->^(bits<c- mi>-1</c->)</code>.<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"integer"</c-><c- p>,</c-> <c- f>"exclusiveMaximum"</c-><c- p>:</c-> <c- mi>128</c-><c- p>,</c-> <c- f>"minimum"</c-><c- p>:</c-> <c- mi>128</c-><c- p>}</c-></code></p>
       </ul>
      <li data-md>
       <p>Unsigned integers kunnen een <code class="highlight">minimum</code> van 0 opgeven en <code class="highlight">exclusiveMaximum</code> van <code class="highlight"><c- mi>2</c->^bits</code><br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"integer"</c-><c- p>,</c-> <c- f>"exclusiveMaximum"</c-><c- p>:</c-> <c- mi>256</c-><c- p>,</c-> <c- f>"minimum"</c-><c- p>:</c-> <c- mi>0</c-><c- p>}</c-></code></p>
      <li data-md>
       <p>Bij ontbreken van een maximum/minimum wordt een bigint64 gebruikt.</p>
      <li data-md>
       <p>Maximum-/minimumwaardes van meer dan Â±2^53-1 (15 decimalen) leveren een waarschuwing op m.b.t. mogelijk inaccurate encodering in JSON.</p>
      <li data-md>
       <p>Unsigned bigint64 wordt niet ondersteund.</p>
      <li data-md>
       <p><strong>decimal</strong></p>
       <ul>
        <li data-md>
         <p>Gemodelleerd als <code class="highlight">number</code> met een <code class="highlight">multipleOf</code> van <code class="highlight"><c- mf>0.1</c->^schaal</code>.<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"number"</c-><c- p>,</c-> <c- f>"multipleOf"</c-><c- p>:</c-> <c- mf>0.01</c-><c- p>}</c-></code></p>
        <li data-md>
         <p>Optionele precisie wordt meegeven via de <code class="highlight">maximum</code> van <code class="highlight"><c- mi>10</c->^(precisie-schaal)<c- mi>-1</c-></code><br> e.g. een precisie van 7 bij een schaal van 2 geeft een maximum van <code class="highlight"><c- mi>99999</c-></code>)<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"number"</c-><c- p>,</c-> <c- f>"multipleOf"</c-><c- p>:</c-> <c- mf>0.01</c-><c- p>,</c-> <c- f>"maximum"</c-><c- p>:</c-> <c- mi>99999</c-><c- p>}</c-></code></p>
        <li data-md>
         <p>Maximum-/minimumwaardes van meer dan 15 decimalen (Â±2^53-1) leveren een waarschuwing op m.b.t. mogelijk inaccurate encodering in JSON.</p>
       </ul>
      <li data-md>
       <p><strong>floating point (half, float, double)</strong></p>
      <li data-md>
       <p>Gemodelleerd als <code class="highlight">number</code> zonder opgave van <code class="highlight">multipleOf</code>. Opslag gebeurt altijd in double formaat. Half en float kan als annotatie op de <code class="highlight">provenance</code> meegenomen worden.</p>
      <li data-md>
       <p><code class="highlight">dataset: <c- p>{</c-><c- f>"provenance"</c-><c- p>:</c-> <c- p>{</c->..., <c- f>"type"</c-><c- p>:</c-> <c- u>"elasticsearch"</c-><c- p>}</c-></code><br> <code class="highlight">column: <c- p>{</c-><c- f>"provenance"</c-><c- p>:</c-> <c- p>{</c->..., <c- f>"type"</c-><c- p>:</c-><c- u>"half_float"</c-><c- p>}</c-></code></p>
      <li data-md>
       <p>boolean</p>
      <li data-md>
       <p>Gemodelleerd als <code class="highlight">boolean</code> type.</p>
      <li data-md>
       <p>enum (maximaal 1024 waarden)</p>
      <li data-md>
       <p>Gemodelleerd als een <code class="highlight">string</code> type met <code class="highlight">enum</code> voor de toegestane waardes.</p>
      <li data-md>
       <p><code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c-><c- p>,</c-> <c- f>"enum"</c-><c- p>:</c-> <c- p>[</c-><c- u>"rood"</c-><c- p>,</c-> <c- u>"geel"</c-><c- p>,</c-> <c- u>"groen"</c-><c- p>]}</c-></code></p>
      <li data-md>
       <p>text (char, varchar, string)</p>
      <li data-md>
       <p>Gemodelleerd als <code class="highlight">string</code><br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"string"</c-><c- p>}</c-></code></p>
      <li data-md>
       <p>Varchar heeft een <code class="highlight">maxLength</code> attribuut<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"string"</c-><c- p>,</c-> <c- f>"maxLength"</c-><c- p>:</c-> <c- mi>10</c-><c- p>}</c-></code></p>
      <li data-md>
       <p>Char heeft ook een <code class="highlight">minLength</code> attribuut met de gelijke waarde<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"string"</c-><c- p>,</c-> <c- f>"maxLength"</c-><c- p>:</c-> <c- mi>10</c-><c- p>,</c-> <c- f>"minLength"</c-><c- p>:</c-> <c- mi>10</c-><c- p>}</c-></code></p>
      <li data-md>
       <p>binary (variable of fixed length)</p>
      <li data-md>
       <p>Gemodelleerd als <code class="highlight">string</code> met <code class="highlight">contentEncoding</code> van type <code class="highlight">base<c- mi>64</c-></code><br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"string"</c-><c- p>,</c-> <c- f>"contentEncoding"</c-><c- p>:</c-> <c- u>"base64"</c-><c- p>}</c-></code></p>
      <li data-md>
       <p>Fixed length binary kan deels enforced worden via een <code class="highlight">maxLength</code> van via de formule <code class="highlight"><c- mi>4</c->*ceil(bytes/<c- mi>3</c->)</code> en kan meegenomen in de provenance.</p>
      <li data-md>
       <p>Tijd</p>
       <ul>
        <li data-md>
         <p>date (day within calendar)</p>
         <ul>
          <li data-md>
           <p>Gemodelleerd als string met [<code class="highlight">date</code> format](https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times)<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"string"</c-><c- p>,</c-> <c- f>"format"</c-><c- p>:</c-> <c- u>"date"</c-><c- p>}</c-></code> â <code class="highlight"><c- u>"2020-02-20"</c-></code></p>
         </ul>
        <li data-md>
         <p>time (time within day, microseconde precisie)</p>
         <ul>
          <li data-md>
           <p>Gemodelleerd als string met [<code class="highlight">time</code> format](https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times). Precisie boven de microseconde wordt afgekapt.<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"string"</c-><c- p>,</c-> <c- f>"format"</c-><c- p>:</c-> <c- u>"time"</c-><c- p>}</c-></code> â <code class="highlight"><c- u>"12:00:00"</c-></code> of <code class="highlight"><c- u>"12:00:00.000000"</c-></code></p>
         </ul>
        <li data-md>
         <p>timestamp (moment in time, microseconde precisie, UTC)</p>
         <ul>
          <li data-md>
           <p>Te modelleren als string met [<code class="highlight">date-time</code> format](https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times).<br> Precisie boven de microseconde wordt afgekapt.<br> Bij voorkeur wordt gewerkt met een opgegeven tijdszone. Wanneer er geen tijdszone wordt opgegeven levert dit een data-kwaliteit waarschuwing op.<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"string"</c-><c- p>,</c-> <c- f>"format"</c-><c- p>:</c-> <c- u>"date-time"</c-><c- p>}</c-></code> â <code class="highlight"><c- u>"2020-02-20T12:00:00+01:00"</c-></code>, <code class="highlight"><c- u>"2020-02-20T12:00:00.000000+01:00"</c-></code> of <code class="highlight"><c- u>"2020-02-20T12:00:00"</c-></code></p>
          <li data-md>
           <p>Te modelleren als string met <code class="highlight">date-time</code> format.<br> Precisie boven de microseconde wordt afgekapt.<br> De tijdszone kan weggelaten wanneer deze in de metadata van het veld opgenomen is.<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-><c- u>"string"</c-><c- p>,</c-> <c- f>"format"</c-><c- p>:</c-> <c- u>"date"</c-><c- p>}</c-></code></p>
         </ul>
        <li data-md>
         <p>interval (maanden, dagen en milliseconden)</p>
         <ul>
          <li data-md>
           <p>Te modelleren als string met een format volgens het <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO8601 Durations formaat</a>.<br> Eventueel te valideren via een complexe <a href="https://regex101.com/r/RltxfI/1">[reguliere expressie</a>.</p>
         </ul>
       </ul>
      <li data-md>
       <p>Geometrie (Point, Polygoon, Line String, Multi Point, Multi LineString, Multi Polygon)</p>
       <ul>
        <li data-md>
         <p>Gemodelleerd als GeoJson Schemaâs Geometry type <code class="highlight"><c- u>"$ref"</c->: <c- u>"https://geojson.org/schema/Geometry.json"</c-></code> of in context: <code class="highlight"><c- u>"geometry"</c->: <c- p>{</c-> <c- f>"$ref"</c-><c- p>:</c-> <c- u>"https://geojson.org/schema/Geometry.json"</c-><c- p>,</c-> <c- f>"description"</c-><c- p>:</c-> <c- u>"Geografische locatie"</c-><c- p>}</c-></code></p>
       </ul>
      <li data-md>
       <p>Een kolom kan van de logische types zijn:</p>
       <ul>
        <li data-md>
         <p>array (lijst van waardes met mogelijke duplicatie)</p>
         <ul>
          <li data-md>
           <p>Gemodelleerd als List validation met gespecificeerd item type.<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"array"</c-><c- p>,</c-> <c- f>"items"</c-><c- p>:</c-> <c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"number"</c-><c- p>}}</c-></code></p>
          <li data-md>
           <p>Tuple validatie wordt niet ondersteunt aangezien dit in veel doelrepresentaties een union semantiek vereist. Elk tuple element kan wel een eigen veld gegeven worden.</p>
         </ul>
        <li data-md>
         <p>struct (klasse met gedefinieerde velden en types)</p>
         <ul>
          <li data-md>
           <p>Gemodelleerd als object met typed properties en geen additionele properties<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"object"</c-><c- p>,</c-> <c- f>"properties"</c-><c- p>:</c-> <c- p>{</c-><c- f>"count"</c-><c- p>:</c-> <c- p>{</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"number"</c-> <c- p>}},</c-> <c- f>"additionalProperties"</c-><c- p>:</c-> <c- kc>false</c-><c- p>}</c-></code></p>
         </ul>
       </ul>
      <li data-md>
       <p>Een logisch type kan zelf ook weer een ander logisch type bevatten (e.g. array van structs)<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"array"</c-><c- p>,</c-> <c- f>"items"</c-><c- p>:</c-> <c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"object"</c-><c- p>,</c-> <c- f>"properties"</c-><c- p>:</c-> <c- p>{</c-><c- f>"name"</c-><c- p>:</c-> <c- p>{</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c-> <c- p>}},</c-> <c- f>"additionalProperties"</c-><c- p>:</c-> <c- kc>false</c-><c- p>}}</c-></code></p>
      <li data-md>
       <p>Een kolom heeft __geen__ UNION semantiek dus kan __niet__ meerdere types waardes te bevatten; behalve null.</p>
       <ul>
        <li data-md>
         <p>Elk veld is nullable tenzij het als <code class="highlight">required</code> property is opgegeven.<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"object"</c-><c- p>,</c-> <c- f>"properties"</c-><c- p>:</c-> <c- p>{</c-><c- f>"name"</c-><c- p>:</c-> <c- p>{</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c-> <c- p>}},</c-> <c- f>"required"</c-><c- p>:</c-> <c- p>[</c-><c- u>"name"</c-><c- p>],</c-> <c- f>"additionalProperties"</c-><c- p>:</c-> <c- kc>false</c-><c- p>}</c-></code></p>
        <li data-md>
         <p>
          De anyOf operater is dus <strong>niet</strong> toegestaan<br>
          <del><code class="highlight"><c- p>{</c-><c- f>"anyOf"</c-><c- p>:</c-> <c- p>[{</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"integer"</c-> <c- p>},</c-> <c- p>{</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c-><c- p>}]}</c-></code></del>
         </p>
       </ul>
      <li data-md>
       <p>Arbitrair-geneste data kan alleen, ongeindexeerd, worden opgeslagen als JSON string.</p>
       <ul>
        <li data-md>
         <p>Gemodelleerd als object type zonder type definitie<br> <code class="highlight"><c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"object"</c-><c- p>}</c-></code></p>
        <li data-md>
         <p>Dit is een <strong>fallback</strong> type en het gebruik hiervan dient waar mogelijk voorkomen te worden.</p>
        <li data-md>
         <p>Gebruik voor bijvoorbeeld een config/properties veld (string keys naar string values) is een voorbeeld van acceptabel gebruik.</p>
       </ul>
     </ul>
   </ul>
   <h3 class="heading settled" data-level="1.4" id="relatering"><span class="secno">1.4. </span><span class="content">Relatering (veld)</span><a class="self-link" href="#relatering"></a></h3>
   <p>Gegevens zijn vaak te relateren aan andere informatie. Zo kan een afvalcontainer gekoppeld worden aan een lokatie; maar kan een lokatie ook weer gekoppeld worden aan bijv. een wijk of buurt of ander gebied.</p>
   <p>Deze relatering gebeurt altijd op basis van een veld dat de identifier van de andere resource bevat (vergelijkbaar met een foreign key in SQL parlance.)</p>
   <p>Wij dwingen geen referentiele integriteit af tussen datasets dus het kan zijn dat relaties naar niet (meer) bestaande entiteiten verwijzen.</p>
   <p>Om dit te kunnen koppelen wordt een veld geannoteerd met een relatie omschrijving. Dit kan gebeuren op een string of integer identifier veld; maar ook op een array van identifiers voor many-to-many N:M relaties</p>
   <p>Relaties worden gedefinieerd op basis van een URI/URN naar de relevante tabel in een dataset.</p>
   <p><code class="highlight"><c- u>"relation"</c->: <c- u>"bag:pand"</c-></code></p>
   <p>Voor een enkelvoudige relatie zou dit er als volgt uit zien:</p>
   <p><code class="highlight"><c- u>"hoortBijMeetbout"</c->: <c- p>{</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c-><c- p>,</c-> <c- f>"relation"</c-><c- p>:</c-> <c- u>"meetbouten:meetbouten"</c-> <c- p>}</c-></code></p>
   <p>en voor een meervoudige relatie als:</p>
<pre class="highlight"><c- u>"refereertAanReferentiepunten"</c->: <c- p>{</c->
  <c- f>"type"</c-><c- p>:</c-> <c- u>"array"</c-><c- p>,</c->
  <c- f>"relation"</c-><c- p>:</c-> <c- u>"meetbouten:referentiepunten"</c-><c- p>,</c->
  <c- f>"items"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <p>Temporele referenties worden gedefinieerd als een verwijzing naar zowel de resource identifier als de temporele identifier; bijvoorbeeld:</p>
<pre class="highlight"><c- u>"ligtInWijk"</c->: <c- p>{</c->
  <c- f>"type"</c-><c- p>:</c-> <c- u>"object"</c-><c- p>,</c->
  <c- f>"relation"</c-><c- p>:</c-> <c- u>"gebieden:wijken"</c-><c- p>,</c->
  <c- f>"properties"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"identifier"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c->
    <c- p>},</c->
    <c- f>"volgnummer"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c->
    <c- p>}</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <p>Het is belangrijk om op te merken dat dit __geen__ versie van het schema definieert aangezien de koppeling niet zou moeten veranderen n.a.v. schema wijzigingen (elke dataset heeft altijd Ã©Ã©n unieke identifier waar aan gekoppeld wordt.)</p>
   <p>Indien het gewenst is om een inverse relatie op te nemen de weergave van de resource kan dit als volgt weergegeven worden:</p>
<pre class="highlight"><c- u>"additionalRelations"</c->: <c- p>{</c->
  <c- f>"nummeraanduiding"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"format"</c-><c- p>:</c-> <c- u>"embedded"</c-><c- p>,</c->
    <c- f>"table"</c-><c- p>:</c-> <c- u>"verblijfsobject"</c-><c- p>,</c->
    <c- f>"field"</c-><c- p>:</c-> <c- u>"nummeraanduiding"</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="1.5" id="eenheden"><span class="secno">1.5. </span><span class="content">Eenheden (veld)</span><a class="self-link" href="#eenheden"></a></h3>
   <p>Op het niveau van individuele velden is het gewenst om de eenheid te modelleren.</p>
   <p>Voor het definieren van eenheden gebruiken wij, by default, een string met een eenheid definitie volgens de <a href="https://unitsofmeasure.org/ucum.html">UCUM standaard</a>.</p>
   <p><code class="highlight"><c- u>"unit"</c->: <c- u>"mm/h"</c-></code></p>
   <p>UCUM heeft geen expliciete ondersteuning voor valuta dus gebruiken we unit annotaties ([ISO 4217 code](https://unitsofmeasure.org/ucum.html|UCUM 2.1Â§6]]) om valuta te encoderen op basis van hun drie-letterige [[https://en.wikipedia.org/wiki/ISO_4217):</p>
   <p><code class="highlight"><c- u>"unit"</c->: <c- u>"{EUR}/h"</c-></code></p>
   <p>Het eenhedensysteem kan ook expliciet meegegeven worden door het op te slaan als <code class="highlight">object</code>:</p>
   <p><code class="highlight"><c- u>"unit"</c->: <c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"ucum"</c-><c- p>,</c-> <c- f>"value"</c-><c- p>:</c-> <c- u>"{EUR}/h"</c-><c- p>}</c-></code></p>
   <p>Andere system kunnen daardoor ook aangegeven worden:</p>
   <p><code class="highlight"><c- u>"unit"</c->: <c- p>{</c-><c- f>"type"</c-><c- p>:</c-> <c- u>"pint"</c-><c- p>,</c-> <c- f>"value"</c-><c- p>:</c-> <c- u>"meter"</c-><c- p>}</c-></code></p>
   <p>Custom unit systemen zullen echter conversie bemoeilijken en worden derhalve afgeraden door middel van een data-kwaliteits waarschuwing.</p>
   <h3 class="heading settled" data-level="1.6" id="authorisatie"><span class="secno">1.6. </span><span class="content">Autorisatie (dataset, tabel, veld)</span><a class="self-link" href="#authorisatie"></a></h3>
   <p>Autorisatie kan gedefinieerd worden op dataset-, tabel- en veld-niveau.</p>
   <p>Er zijn drie bestaande rol-aliassen gedefinieerd: <code class="highlight">publiek</code>, <code class="highlight">medewerker</code> en <code class="highlight">medewerker-plus</code>. Deze zullen in de toekomst overgaan op Active Directory groepen zodra mogelijk.</p>
   <p>Op elk niveau kan aangegeven worden wat het hoogste niveau is dat toegang dient te hebben tot alle data op dat niveau en onderliggende niveauâs.</p>
   <p>Dat wil zeggen dat wanneer bijvoorbeeld de dataset als publiek gekenmerkt is ( <code class="highlight"><c- u>"autorisatie"</c->: <c- u>"publiek"</c-></code>) dan zijn per definitie alle tabellen en velden ook publiek beschikbaar.</p>
   <p>Indien slechts Ã©Ã©n tabel publiek is dan wordt de dataset gekenmerkt als bijv. <code class="highlight"><c- u>"autorisatie"</c->: <c- u>"medewerker"</c-></code> en de publieke tabel als <code class="highlight"><c- u>"autorisatie"</c->: <c- u>"publiek"</c-></code>.</p>
   <p>Zo ook dient een tabel met slechts deels publieke gegevens als <code class="highlight"><c- u>"autorisatie"</c->: <c- u>"medewerker"</c-></code> gemarkeerd te worden en alle publieke velden d.m.v. <code class="highlight"><c- u>"autorisatie"</c->: <c- u>"publiek"</c-></code> als publiek gemarkeerd.</p>
   <p>Het is ook mogelijk meerdere rollen op te geven in de vorm van een array als <code class="highlight"><c- u>"autorisatie"</c->: <c- p>[</c-><c- u>"ruimte"</c-><c- p>,</c-> <c- u>"basisinformatie"</c-><c- p>]</c-></code>.</p>
   <p>Dit zal in de huidige rollenstructuur echter niet nodig zijn aangezien <code class="highlight">medewerker</code> ook <code class="highlight">publiek</code> als rol bevat en <code class="highlight">medewerker-plus</code> ook <code class="highlight">medewerker</code> en <code class="highlight">publiek</code>. Derhalve kan de _huidige_ rollenstructuur altijd zonder arrayâs gemodelleerd worden.</p>
   <p>Naar de toekomst toe kan autorisatie uitgebreid worden d.m.v. een object met extra informatie t.b.v. bijvoorbeeld row level security; naar mate dit ondersteund kan worden door de relevante doelrepresentaties.</p>
   <h3 class="heading settled" data-level="1.7" id="provenance"><span class="secno">1.7. </span><span class="content">Provenance (dataset, tabel, veld)</span><a class="self-link" href="#provenance"></a></h3>
   <p>Provenance als veld wordt gebruikt om programmatisch informatie op te slaan over de oorsprong van bepaalde data.</p>
   <p>In beperkte vorm kan provenance ook gebruikt worden om automatisch verwerking van brongegevens in andere formaten te bewerkstelligen.</p>
   <p>Provenance is beschikbaar op zowel dataset-, tabel- als veld-niveau. Het is een vrij veld maar door een object met 'type' te specificeren kunnen specifieke machine readable profielen geactiveerd worden t.b.v. automatische bronverwerking</p>
   <h4 class="heading settled" data-level="1.7.1" id="provenance-vrije-invoer"><span class="secno">1.7.1. </span><span class="content">Vrije invoer</span><a class="self-link" href="#provenance-vrije-invoer"></a></h4>
   <p>Dataset: <code class="highlight"><c- u>"provenance"</c->: <c- u>"Deze dataset wordt handmatig verwerkt door ..."</c-></code></p>
   <p>Tabel: <code class="highlight"><c- u>"provenance"</c->: <c- u>"Deze tabel is gebaseerd op een CSV bestand aangeleverd door ..."</c-></code></p>
   <p>Veld: <code class="highlight"><c- u>"provenance"</c->: <c- u>"Ontbrekende IDs zijn m.b.v TextEdit vervangen door UUID hashes van de naam in UTF-8."</c-></code></p>
   <h4 class="heading settled" data-level="1.7.2" id="provenance-postgres"><span class="secno">1.7.2. </span><span class="content">Postgres</span><a class="self-link" href="#provenance-postgres"></a></h4>
   <p>Dataset: <code class="highlight"><c- u>"provenance"</c->: <c- p>{</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"postgres"</c-><c- p>,</c-> <c- f>"schema"</c-><c- p>:</c-> <c- u>"ruimte"</c-> <c- p>}</c-></code></p>
   <p>Tabel: <code class="highlight"><c- u>"provenance"</c->: <c- p>{</c-> <c- f>"table"</c-><c- p>:</c-> <c- u>"verhardingen"</c-> <c- p>}</c-></code></p>
   <p>Veld: <code class="highlight"><c- u>"provenance"</c->: <c- p>{</c-> <c- f>"field"</c-><c- p>:</c-> <c- u>"lengte_m"</c-><c- p>,</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"NUMERIC(10,2)"</c-><c- p>}</c-></code></p>
   <h4 class="heading settled" data-level="1.7.3" id="provenance-shapefile"><span class="secno">1.7.3. </span><span class="content">Shapefile</span><a class="self-link" href="#provenance-shapefile"></a></h4>
   <p>Dataset: <code class="highlight"><c- u>"provenance"</c->: <c- p>{</c-> <c- f>"type"</c-><c- p>:</c-> <c- u>"shapefile"</c-><c- p>}</c-></code></p>
   <p>Tabel: <code class="highlight"><c- u>"provenance"</c->: <c- p>{</c-> <c- f>"file"</c-><c- p>:</c-> <c- u>"asbestdaken_daken.zip"</c-> <c- p>}</c-></code></p>
   <p>Veld: <code class="highlight"><c- u>"provenance"</c->: <c- p>{</c-> <c- f>"field"</c-><c- p>:</c-> <c- u>"perceel_id"</c-><c- p>}</c-></code></p>
   <h3 class="heading settled" data-level="1.8" id="naamgeving"><span class="secno">1.8. </span><span class="content">Naamgeving</span><a class="self-link" href="#naamgeving"></a></h3>
   <p>Voor de naamgeving van de velden wordt de camelCase notatie gebruikt. Op implementatie-niveau (bijv. PostgreSQL) wordt
dit omgezet in snake_case notatie als de meest natuurlijke manier van noteren.</p>
   <p>Gebruik duidelijke en begrijpelijke namen voor zowel datasets, tabellen als velden. Het gaat hierbij tenslotte om het beschikbaar
stellen van data in de vorm van een publieke API die afnemers liefst zonder al te veel extra uitleg moeten kunnen gebruiken.</p>
   <p>Een paar vuistregels:</p>
   <ul>
    <li data-md>
     <p>gebruik camelCase namen</p>
    <li data-md>
     <p>gebruik geen ALL_UPPERCASE namen</p>
    <li data-md>
     <p>gebruik volledige namen (geen afbrekingen en afkortingen)</p>
    <li data-md>
     <p>herhaal de tabelnaam niet in de namen van de velden (dus <em>niet</em> container.containerNummmer, maar container.nummer)</p>
   </ul>
   <p>Als de namen in het schema te lang worden, kan dit praktische problemen geven bij het aanmaken van tabellen en kolommen
op basis van het schema. PostgreSQL staat bijvoorbeeld niet meer dan 63 karakters toe voor tabelnamen.
Het is mogelijk om een alternatieve verkorte naam op te geven voor tabellen en velden met het attribuut <code class="highlight">shortname</code>.</p>
   <p>Bijvoorbeeld voor een tabel:</p>
<pre class="highlight"><c- p>{</c->
  <c- f>"id"</c-><c- p>:</c-> <c- u>"maatschappelijkeactiviteiten"</c-><c- p>,</c->
  <c- f>"shortname"</c-><c- p>:</c-> <c- u>"activiteiten"</c-><c- p>,</c->
  <c- f>"type"</c-><c- p>:</c-> <c- u>"table"</c->
<c- p>}</c->
</pre>
   <p>Of voor een veld:</p>
<pre class="highlight">    <c- u>"registratieTijdstipMaatschappelijkeActiviteit"</c->: <c- p>{</c->
    <c- f>"shortname"</c-><c- p>:</c-> <c- u>"registratieTijdstip"</c-><c- p>,</c->
    <c- f>"type"</c-><c- p>:</c-> <c- u>"string"</c-><c- p>,</c->
    <c- f>"format"</c-><c- p>:</c-> <c- u>"date-time"</c->
<c- p>}</c->
</pre>
  </main>
